<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">

<!-- Fuentes: Playfair Display (título) + Inter (texto) -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg: #f7f2ec;
    --popup-bg-1: #fff6eb;
    --popup-bg-2: #ffe8d0;
    --accent: #2f7d44;
    --accent-2: #b03a3a;
    --border: #d7bfa4;
    --muted: #6b6b6b;
  }

  html,body {
    height: 100%;
    margin: 0;
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: var(--bg);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  body {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 32px 16px;
  }

  .calendar-container {
    position: relative;
    width: 920px; /* reduje para demo más manejable; ajusta si quieres */
    max-width: 100%;
    height: 516px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    border-radius: 10px;
    overflow: hidden;
    background: white;
  }

  .calendar-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .day {
    position: absolute;
    cursor: pointer;
    background: rgba(255, 220, 180, 0);
    width: 100px;
    height: 100px;
  }

  .popup-bg {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1200;
    padding: 20px;
  }

  /* Popup rediseñado y centrado del contenido */
  .popup {
    width: 760px;               /* ancho mayor para parecerse a tu captura */
    max-width: calc(100% - 48px);
    background: linear-gradient(135deg, var(--popup-bg-1), var(--popup-bg-2));
    box-shadow: 0 18px 40px rgba(0,0,0,0.28);
    border: 2px solid var(--border);
    border-radius: 16px;
    padding: 26px 28px;
    font-size: 16px;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 18px;
    align-items: center;        /* mantiene el contenido centrado horizontalmente */
  }

  /* Título con tipografía elegante */
  #popupText {
    font-family: "Playfair Display", serif;
    font-size: 28px;
    line-height: 1.05;
    color: #1e1e1e;
    margin: 0;
    font-weight: 700;
    letter-spacing: -0.3px;
    padding-top: 4px;
  }

  /* Contenedor que centra el textarea y controla su ancho */
  .notes-wrap {
    width: 100%;
    display: flex;
    justify-content: center;
  }

  textarea#notesInput {
    width: 88%;                 /* centrado y con margen lateral */
    min-height: 140px;         /* más alto, como en la captura */
    max-height: 320px;
    border-radius: 10px;
    border: 1.5px solid rgba(214,196,184,0.9);
    padding: 14px 12px;
    resize: vertical;
    font-size: 15px;
    font-family: "Inter", system-ui, sans-serif;
    background: #fff;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.04);
    color: #222;
    outline: none;
    caret-color: var(--accent);
  }

  textarea#notesInput::placeholder{
    color: #9c9c9c;
    font-weight: 300;
    letter-spacing: 0.2px;
  }

  /* Botones juntos y centrados */
  .buttons {
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 6px;
  }

  .btn {
    min-width: 130px;
    padding: 12px 18px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    font-weight: 700;
    font-size: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    transition: transform .12s ease, box-shadow .12s ease;
  }

  .btn:active { transform: translateY(1px); }

  .save-btn {
    background: var(--accent);
    color: white;
  }

  .save-btn:hover {
    box-shadow: 0 10px 26px rgba(46,117,68,0.18);
  }

  .close-btn {
    background: var(--accent-2);
    color: white;
  }

  .close-btn:hover {
    box-shadow: 0 10px 26px rgba(176,58,58,0.14);
  }

  /* Hover en días (sin blur) */
  .day:hover {
    background: rgba(255, 255, 255, 0.18);
    border-radius: 12px;
    transition: 0.25s;
  }

  /* Reponsive: popup más pequeño en móvil */
  @media (max-width: 520px){
    .popup{
      padding: 18px;
    }
    #popupText{ font-size: 20px; }
    textarea#notesInput{ width: 100%; min-height: 110px; }
    .btn{ min-width: 110px; padding: 10px 14px; font-size: 15px; }
  }

</style>
</head>
<body>

<div class="calendar-container">
  <img src="calendario.png" class="calendar-image" alt="Calendario">

  <!-- Aquí puedes mantener tus .day con los estilos de posición -->
  <div class="day" style="top:60px; left:90px" data-day="1"></div>
  <div class="day" style="top:60px; left:200px" data-day="2"></div>
  <div class="day" style="top:60px; left:310px" data-day="3"></div>
  <!-- ... resto de días ... -->
</div>

<div class="popup-bg" id="popup">
  <div class="popup" role="dialog" aria-modal="true" aria-labelledby="popupText">
    <div id="popupText">Día 13: Gracias por existir.</div>

    <div class="notes-wrap">
      <textarea id="notesInput" placeholder="Tus notas para este día..."></textarea>
    </div>

    <div class="buttons">
      <button class="btn save-btn" onclick="saveNotes()">Guardar</button>
      <button class="btn close-btn" onclick="closePopup()">Cerrar</button>
    </div>
  </div>
</div>

<script>
let activeDay = null;

const mensajes = {
  1: "Día 1: Me encanta empezar diciembre contigo ❤️",
  2: "Día 2: Eres mi persona favorita.",
  3: "Día 3: Gracias por hacer mis días más bonitos.",
  4: "Día 4: Me haces tan feliz.",
  5: "Día 5: Hoy toca abrazo extra.",
  6: "Día 6: Me derrito contigo.",
  7: "Día 7: Qué suerte tengo.",
  8: "Día 8: Tu risa es magia.",
  9: "Día 9: Eres mi tradición favorita.",
  10:"Día 10: Hoy toca beso sorpresa.",
  11:"Día 11: Me gusta todo contigo.",
  12:"Día 12: Mitad del calendario, todo mi corazón.",
  13:"Día 13: Gracias por existir.",
  14:"Día 14: Qué bonito es el mundo contigo.",
  15:"Día 15: Eres mi hogar.",
  16:"Día 16: Hoy toca plan especial.",
  17:"Día 17: Adoro estar contigo.",
  18:"Día 18: Eres mi alegría.",
  19:"Día 19: Siempre tú.",
  20:"Día 20: Cada día te quiero más.",
  21:"Día 21: Ya huele a Navidad contigo ❤️",
  22:"Día 22: Eres mi mejor regalo.",
  23:"Día 23: Qué ilusión compartir diciembre contigo.",
  24:"Día 24: Feliz Navidad, amor."
};

function loadNotes(day) {
  return localStorage.getItem("nota_" + day) || "";
}

function saveNotes() {
  if (!activeDay) return;
  const texto = document.getElementById('notesInput').value;
  localStorage.setItem("nota_" + activeDay, texto);
  // Pequeño feedback visual (no intrusivo)
  const btn = document.querySelector('.save-btn');
  const original = btn.innerText;
  btn.innerText = "Guardado ✓";
  setTimeout(()=> btn.innerText = original, 1200);
}

document.querySelectorAll('.day').forEach(dia => {
  dia.addEventListener('click', (e) => {
    activeDay = dia.dataset.day;

    document.getElementById('popupText').innerText = mensajes[activeDay] || ("Día " + activeDay);
    const notas = loadNotes(activeDay);
    document.getElementById('notesInput').value = notas;

    document.getElementById('popup').style.display = 'flex';

    // Foco en textarea para escribir inmediatamente
    setTimeout(()=> document.getElementById('notesInput').focus(), 120);
  });
});

// Cerrar al pulsar fuera del diálogo
document.getElementById('popup').addEventListener('click', function(e){
  if (e.target === this) closePopup();
});

function closePopup() {
  document.getElementById('popup').style.display = 'none';
  activeDay = null;
}
</script>

</body>
</html>
